(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1218:function(e,t,r){Promise.resolve().then(r.bind(r,7775))},5914:function(e,t,r){"use strict";r.d(t,{S:function(){return i}});var a=r(2265),n=r(6493);let i=(e,t)=>{let[r,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async function(){i(await (0,n.BJ)(e,t))})()},[]),r}},6493:function(e,t,r){"use strict";r.d(t,{BJ:function(){return o},BZ:function(){return m},Fw:function(){return u},Iq:function(){return l},Ns:function(){return h},ZB:function(){return _},d8:function(){return n},jo:function(){return p},li:function(){return c},v_:function(){return d}});let a=async e=>{try{let t=await fetch(e);if(200!==t.status)throw Error("Ошибка получения данных");return await t.json()}catch(e){return e}},n=e=>!(e instanceof Error),i=e=>{let t=JSON.stringify(e),r=JSON.parse(t=t.replaceAll("_id","id"));return{...r,category:r.categories}},s=e=>e.map(e=>i(e)),c=async(e,t)=>{let r=await a("".concat(e,"/").concat(t));return n(r)?i(r):r},o=async(e,t)=>{try{let r=await a("".concat(e,"?categories.name=").concat(t));if(!Array.isArray(r)||0===r.length)throw Error("Нет игр в категории");return n(r)?s(r):r}catch(e){return console.error(e),[]}},l=async(e,t)=>{try{let r=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(200!==r.status)throw Error("Ошибка авторизации");return await r.json()}catch(e){return e}},_=e=>{document.cookie="jwt=".concat(e),localStorage.setItem("jwt",e)},d=()=>{if(""===document.cookie)return localStorage.getItem("jwt");let e=document.cookie.split(";").find(e=>e.includes("jwt"));return e?e.split("=")[1]:null},u=()=>{document.cookie="jwt=;",localStorage.removeItem("jwt")},p=async(e,t)=>{try{let r=await fetch(e,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});if(200!==r.status)throw Error("Ошибка получения данных");return await r.json()}catch(e){return e}},m=(e,t)=>e.users.find(e=>e.id===e),h=async(e,t,r)=>{try{let a=await fetch(e,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({users:r})});if(200!==a.status)throw Error("Ошибка голосования");return await a.json()}catch(e){return e}}},1370:function(e,t,r){"use strict";r.d(t,{H:function(){return n}});let a="https://goshapindieyp.nomoredomainswork.ru/api",n={games:"".concat(a,"/games"),auth:"".concat(a,"/auth/login"),me:"".concat(a,"//me")}},9500:function(e,t,r){"use strict";r.d(t,{r:function(){return j}});var a=r(7437),n=r(5237),i=r.n(n),s=r(1396),c=r.n(s),o=r(3297),l=r.n(o);let _=e=>(0,a.jsxs)("article",{className:l().card,children:[(0,a.jsx)("img",{src:e.image,alt:"",className:l().card__image}),(0,a.jsxs)("div",{className:l()["card__content-block"],children:[(0,a.jsx)("h3",{className:l().card__title,children:e.title}),(0,a.jsx)("p",{className:l().card__description,children:e.description}),(0,a.jsxs)("div",{className:l()["card__info-container"],children:[(0,a.jsxs)("p",{className:l().card__author,children:["Автор:"," ",(0,a.jsx)("span",{className:l().card__accent,children:e.developer})]}),(0,a.jsxs)("p",{className:l().card__votes,children:["Голосов на сайте:",(0,a.jsx)("span",{className:l().card__accent,children:e.users.length})]})]})]})]}),d=e=>(0,a.jsx)("ul",{className:i()["cards-list"],children:e.data.map(e=>(0,a.jsx)("li",{className:i()["cards-list__item"],children:(0,a.jsx)(c(),{href:"/games/".concat(e.id),className:i()["card-list__link"],children:(0,a.jsx)(_,{...e})})},e.id))});var u=r(1182),p=r(7062);r(6978),r(501);var m=r(2265),h=r(1834),x=r.n(h);let f=e=>((0,m.useEffect)(()=>{let e={loop:!1,spaceBetween:10,allowTouchMove:!0,slidesPerView:1,autoplay:{enabled:!1},pagination:{el:".swiper-pagination",type:"fraction",enabled:!0,clickable:!0},breakpoints:{450:{loop:!0,spaceBetween:20,allowTouchMove:!1,slidesPerView:"auto",speed:6500,autoplay:{enabled:!0,delay:0},pagination:{enabled:!1}}},modules:[p.pt,p.tl]};new u.Z(".swiper",e)},[]),(0,a.jsxs)("div",{className:"swiper ".concat(x().slider),children:[(0,a.jsx)("ul",{className:"swiper-wrapper ".concat(x()["slider-wrapper"]),children:e.data.map((e,t)=>(0,a.jsx)("li",{className:"swiper-slide ".concat(x().slide),children:(0,a.jsx)(c(),{href:"/games/".concat(e.id),children:(0,a.jsx)(_,{...e})})},t))}),(0,a.jsx)("div",{className:"swiper-pagination ".concat(x().pagination)})]})),j=e=>(0,a.jsxs)("section",{className:i()["list-section"],children:[(0,a.jsx)("h2",{className:i()["list-section__title"],id:e.id,children:e.title}),"slider"===e.type?(0,a.jsx)(f,{data:e.data}):(0,a.jsx)(d,{data:e.data})]})},2038:function(e,t,r){"use strict";r.d(t,{p:function(){return n}});var a=r(7437);let n=()=>(0,a.jsx)("div",{style:{aspectRatio:"16/9",display:"grid",placeItems:"center"},className:"preloader",children:(0,a.jsxs)("svg",{style:{width:"10vw"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",children:[(0,a.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",r:"15",cx:"35",cy:"100",children:(0,a.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:"0"})}),(0,a.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",opacity:".8",r:"15",cx:"35",cy:"100",children:(0,a.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:"0.05"})}),(0,a.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",opacity:".6",r:"15",cx:"35",cy:"100",children:(0,a.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:".1"})}),(0,a.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",opacity:".4",r:"15",cx:"35",cy:"100",children:(0,a.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:".15"})}),(0,a.jsx)("circle",{fill:"#FFF500",stroke:"#FFF500",strokeWidth:"15",opacity:".2",r:"15",cx:"35",cy:"100",children:(0,a.jsx)("animate",{attributeName:"cx",calcMode:"spline",dur:"2",values:"35;165;165;35;35",keySplines:"0 .1 .5 1;0 .1 .5 1;0 .1 .5 1;0 .1 .5 1",repeatCount:"indefinite",begin:".2"})})]})})},7775:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var a=r(7437),n=r(1370),i=r(4971),s=r.n(i);let c=()=>(0,a.jsxs)("section",{className:s().banner,children:[(0,a.jsxs)("div",{className:s().banner__description,children:[(0,a.jsx)("h1",{className:s().banner__title,children:"Портал инди-игр от\xa0студентов Яндекс Практикума"}),(0,a.jsx)("div",{className:s()["banner__text-block"],children:(0,a.jsx)("p",{className:s().banner__text,children:"Студенты курсов разрабатывают свои игры на Unity, здесь мы их публикуем. Вы можете играть прямо на сайте. А если у вас есть аккаунт пользователя — получаете возможность голосовать за игры."})}),(0,a.jsx)("a",{href:"#popular",className:"button ".concat(s().banner__link),children:"Смотреть игры"})]}),(0,a.jsx)("img",{src:"/images/banner-illustration.jpg",alt:"Рука, утопленная в желтом фоне",className:s().banner__image})]});var o=r(9500),l=r(2265),_=r(4524),d=r.n(_);let u=()=>{let[e,t]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let r;return e&&(r=setTimeout(()=>{t(!1)},5e3)),()=>{clearTimeout(r)}},[e]),(0,a.jsxs)("section",{className:d().promo,children:[(0,a.jsxs)("div",{className:d()["promo__description-block"],children:[(0,a.jsx)("h2",{className:d().promo__title,children:"Твой промокод"}),(0,a.jsx)("p",{className:d().promo__description,children:"Скидка на все курсы Яндекс Практикума для пользователей нашего сайта!"}),(0,a.jsx)("button",{className:"button ".concat(d().promo__button),onClick:()=>{e||t(!0)},children:e?(0,a.jsx)("span",{className:d()["promo-code"],children:"WEBTEENS10"}):"Получить код"})]}),(0,a.jsx)("img",{src:"/images/promo-illustration.svg",alt:"Собака",className:d().promo__image})]})};var p=r(5914),m=r(2038);function h(){let e=(0,p.S)(n.H.games,"popular"),t=(0,p.S)(n.H.games,"new");return(0,a.jsxs)("main",{className:"main",children:[(0,a.jsx)(c,{}),e&&t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.r,{id:"popular",title:"Популярные",data:e,type:"slider"}),(0,a.jsx)(o.r,{id:"new",title:"Новинки",data:t,type:"slider"})]}):(0,a.jsx)(m.p,{}),(0,a.jsx)(u,{})]})}},4971:function(e){e.exports={banner:"Banner_banner__PUe_2",banner__title:"Banner_banner__title__MP_Rt","banner__text-block":"Banner_banner__text-block__7jHlu",banner__link:"Banner_banner__link__Z0lMZ",banner__image:"Banner_banner__image__UxOLs"}},3297:function(e){e.exports={card:"Card_card__CWDle",card__image:"Card_card__image__4mueK","card__content-block":"Card_card__content-block__wBJdj",card__title:"Card_card__title__GTs84",card__description:"Card_card__description__D5I82","card__info-container":"Card_card__info-container__4sDHi",card__author:"Card_card__author__u6zAO",card__accent:"Card_card__accent__yghaH",card__votes:"Card_card__votes__P29Ky"}},5237:function(e){e.exports={"list-section":"CardsListSection_list-section__MeWSR","list-section__title":"CardsListSection_list-section__title__IGZpD","cards-list":"CardsListSection_cards-list__2oXa_","card-list__link":"CardsListSection_card-list__link__yht_d"}},1834:function(e){e.exports={slider:"CardsSlider_slider__DGH8R",slide:"CardsSlider_slide__sq162","slider-wrapper":"CardsSlider_slider-wrapper__gP7pQ",pagination:"CardsSlider_pagination__wnCz1"}},4524:function(e){e.exports={promo:"Promo_promo__tR27v",promo__title:"Promo_promo__title__q2Ekr",promo__description:"Promo_promo__description__cgn7e",promo__image:"Promo_promo__image__X0h3c",promo__button:"Promo_promo__button__W82nm","promo-code":"Promo_promo-code__7c8iH"}}},function(e){e.O(0,[176,143,971,938,744],function(){return e(e.s=1218)}),_N_E=e.O()}]);